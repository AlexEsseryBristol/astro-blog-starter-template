---
// src/components/ui/Section.astro
type Props = {
  as?: "section" | "div" | "main";
  className?: string;
  innerClassName?: string;

  background?: string; // e.g. "hsl(...)" OR "linear-gradient(...), url(...)"
  padding?: string;    // e.g. "2rem 1.5rem"
  maxWidth?: string;   // e.g. "900px"

  style?: string;
  innerStyle?: string;
};

const {
  as = "section",
  className = "",
  innerClassName = "",
  background,
  padding,
  maxWidth = "900px",
  style,
  innerStyle,
} = Astro.props as Props;

const Tag = as;

const styleParts: string[] = [];
if (background) styleParts.push(`background:${background};`);
if (padding) styleParts.push(`padding:${padding};`);
if (style) styleParts.push(style);

const styleAttr = styleParts.length ? styleParts.join("") : undefined;

const innerStyleParts: string[] = [];
if (maxWidth) innerStyleParts.push(`max-width:${maxWidth};`);
if (innerStyle) innerStyleParts.push(innerStyle);

const innerStyleAttr = innerStyleParts.length ? innerStyleParts.join("") : undefined;
---

<Tag class={`section ${className}`} style={styleAttr}>
  <div class={`inner ${innerClassName}`} style={innerStyleAttr}>
    <slot />
  </div>
</Tag>

<style>
  .section {
    width: 100%;
    box-sizing: border-box;
  }
  .inner {
    margin: 0 auto;
    box-sizing: border-box;
  }
</style>
